<?xml version="1.0" encoding="UTF-8"?>
<ContentView xmlns="http://xamarin.com/schemas/2014/forms" 
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:Imago.Models;assembly=Imago"
             x:Class="Imago.Views.CustomControls.SkillGroupView" x:Name="SkillGroupViewControl">
    <Grid Margin="5" VerticalOptions="Start" >
        <Grid.Background>
            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="#996633"/>
                <GradientStop Color="#fffdd0" Offset="0.201"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
     
        <!-- header -->
        <Grid Grid.Column="0" Grid.Row="0" BindingContext="{Binding SkillGroup, Source={x:Reference SkillGroupViewControl}}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="45"/>
                <ColumnDefinition Width="35"/>
                <ColumnDefinition Width="45"/>
                <ColumnDefinition Width="35"/>
                <ColumnDefinition Width="45"/>
                <ColumnDefinition Width="35"/>
                <ColumnDefinition Width="45"/>
                <ColumnDefinition Width="35"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>
            <Label Grid.Column="0" Grid.Row="0" Text="{Binding Type}" Margin="5,5,0,0" FontAttributes="Bold" FontSize="20"/>
            <Label Grid.Column="0" Grid.Row="1" Text="{Binding Experience}" Margin="5,0"/>
            <Label Grid.Column="1" Grid.Row="0" Grid.ColumnSpan="4" Text="{Binding SkillSource, Converter={StaticResource AttributeSkillSourceToStringConverter}}"/>

            <Label Grid.Column="1" Grid.Row="1" Text="NW:" ></Label>
            <Label Grid.Column="2" Grid.Row="1" Text="{Binding NaturalValue}"></Label>
                                                
            <Label Grid.Column="3" Grid.Row="1" Text="SW:"></Label>
            <Label Grid.Column="4" Grid.Row="1" Text="{Binding IncreaseValue}"></Label>
                                              
            <Label Grid.Column="5" Grid.Row="1" Text="Mod:" ></Label>
            <Label Grid.Column="6" Grid.Row="1" Text="{Binding ModificationValue}"></Label>
                                               
            <Label Grid.Column="7" Grid.Row="1" Text="FW:" ></Label>
            <Label Grid.Column="8" Grid.Row="1" Text="{Binding FinalValue}"></Label>
        </Grid>
     
        <!-- skills -->
        <CollectionView  Grid.Column="0" Grid.Row="1" VerticalOptions="FillAndExpand" ItemsSource="{Binding Skills, Source={x:Reference SkillGroupViewControl}}">
            <!--<CollectionView.Header>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="50" />
                        <ColumnDefinition Width="50" />
                        <ColumnDefinition Width="50" />
                        <ColumnDefinition Width="50" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="1"></RowDefinition>
                    </Grid.RowDefinitions>
                    <Label Grid.Row="0" Grid.Column="0" Text="Fertigkeit" Margin="5,0,0,0" FontAttributes="Bold"/>
                    <Label Grid.Row="0" Grid.Column="1" Text="NW" FontAttributes="Bold"/>
                    <Label Grid.Row="0" Grid.Column="2" Text="EP" FontAttributes="Bold"/>
                    <Label Grid.Row="0" Grid.Column="3" Text="SW" FontAttributes="Bold"/>
                    <Label Grid.Row="0" Grid.Column="4" Text="FW" FontAttributes="Bold"/>
                    <BoxView Grid.Column="0" HeightRequest="1" Grid.Row="1" Grid.ColumnSpan="5" Color="Black"/>
                </Grid>
            </CollectionView.Header>-->
            <CollectionView.ItemsLayout>
                <LinearItemsLayout Orientation="Vertical" />
            </CollectionView.ItemsLayout>
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="models:Skill">
                    <Grid BackgroundColor="Red" > 
                    <Label FontSize="12" VerticalOptions="Center" Text="{Binding Type}"/>
                    </Grid>
                    <!--<Grid Padding="10,0,10,0" Margin="0,0,0,0" BackgroundColor="Red">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" FontSize="12" VerticalOptions="Center" Text="{Binding Type}"/>
                        <Label Grid.Column="1" FontSize="12" VerticalOptions="Center" HorizontalOptions="Center" Text="{Binding NaturalValue}"/>
                        <Label Grid.Column="2" FontSize="12" VerticalOptions="Center" HorizontalOptions="Center" Text="{Binding Experience}"/>
                        <Label Grid.Column="3" FontSize="12" VerticalOptions="Center" HorizontalOptions="Center" Text="{Binding IncreaseValue}"/>
                        <Label Grid.Column="4" FontSize="12" VerticalOptions="Center" HorizontalOptions="Center" Text="{Binding FinalValue}"/>
                    </Grid>-->
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentView>